# Portfoliosis Environment Variables
# Copy this file to .env.local and fill in your actual values
# NEVER commit .env.local to version control

# ==============================================================================
# APPLICATION
# ==============================================================================

# The base URL of your application
# Development: http://localhost:3000
# Production: https://portfoliosis.com
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Environment: development | production | test
NODE_ENV=development

# ==============================================================================
# DATABASE (Supabase)
# ==============================================================================

# Get these from: https://supabase.com/dashboard/project/_/settings/api

# Your Supabase project URL
SUPABASE_URL=https://your-project-id.supabase.co

# Public anon key (safe to expose in client-side code)
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Service role key (KEEP SECRET! Server-side only, bypasses RLS)
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# ==============================================================================
# AI MODELS
# ==============================================================================

# OpenAI API (GPT-4o-mini for achievement extraction)
# Get from: https://platform.openai.com/api-keys
# Cost: ~$0.03 per portfolio
OPENAI_API_KEY=sk-proj-...

# Anthropic API (Claude Haiku for narrative generation)
# Get from: https://console.anthropic.com/settings/keys
# Cost: ~$0.07 per portfolio
ANTHROPIC_API_KEY=sk-ant-api03-...

# Google AI API (Gemini Flash for optimization)
# Get from: https://makersuite.google.com/app/apikey
# Cost: ~$0.10 per portfolio (free tier: 1,500 requests/day)
GOOGLE_AI_API_KEY=AIzaSy...

# LangSmith (Optional - AI observability and monitoring)
# Get from: https://smith.langchain.com/settings
LANGCHAIN_TRACING_V2=true
LANGCHAIN_API_KEY=ls__...
LANGCHAIN_PROJECT=portfoliosis-dev

# ==============================================================================
# CACHING (Redis via Upstash)
# ==============================================================================

# Redis for caching AI results (reduces costs by ~80%)
# Get from: https://console.upstash.com/redis
# Free tier: 10,000 commands/day
REDIS_URL=https://your-redis-url.upstash.io
REDIS_TOKEN=your-redis-token

# Cache TTL (in seconds, default: 30 days)
REDIS_TTL=2592000

# ==============================================================================
# OAUTH PROVIDERS
# ==============================================================================

# LinkedIn OAuth (Optional - for importing LinkedIn profiles)
# Get from: https://www.linkedin.com/developers/apps
# Note: Requires company verification for production
LINKEDIN_CLIENT_ID=your-linkedin-client-id
LINKEDIN_CLIENT_SECRET=your-linkedin-client-secret
LINKEDIN_REDIRECT_URI=http://localhost:3000/api/auth/oauth/linkedin

# GitHub OAuth (for importing GitHub repositories)
# Get from: https://github.com/settings/developers
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret
GITHUB_REDIRECT_URI=http://localhost:3000/api/auth/oauth/github

# GitHub Personal Access Token (for API access)
# Get from: https://github.com/settings/tokens
# Required scopes: repo, read:user
GITHUB_TOKEN=ghp_your-personal-access-token

# ==============================================================================
# DEPLOYMENT PLATFORMS (Phase 5)
# ==============================================================================

# Vercel API Token (for programmatic deployments)
# Get from: https://vercel.com/account/tokens
VERCEL_TOKEN=your-vercel-token
VERCEL_TEAM_ID=team_your-team-id

# Netlify API Token (alternative deployment option)
# Get from: https://app.netlify.com/user/applications/personal
NETLIFY_TOKEN=your-netlify-token

# ==============================================================================
# FILE STORAGE (AWS S3 - Optional)
# ==============================================================================

# AWS credentials (if using S3 instead of Supabase Storage)
# Get from: AWS IAM Console
AWS_ACCESS_KEY_ID=your-access-key
AWS_SECRET_ACCESS_KEY=your-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=portfoliosis-uploads

# ==============================================================================
# MONITORING & ANALYTICS
# ==============================================================================

# Sentry (Error tracking and monitoring)
# Get from: https://sentry.io/settings/projects
SENTRY_DSN=https://...@sentry.io/...
SENTRY_ORG=your-org
SENTRY_PROJECT=portfoliosis

# PostHog (Product analytics)
# Get from: https://app.posthog.com/project/settings
NEXT_PUBLIC_POSTHOG_KEY=phc_your-project-key
NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com

# Vercel Analytics (Automatically enabled in Vercel deployments)
NEXT_PUBLIC_VERCEL_ANALYTICS=true

# ==============================================================================
# EMAIL (Optional - for transactional emails)
# ==============================================================================

# Resend (Modern email API)
# Get from: https://resend.com/api-keys
RESEND_API_KEY=re_your-api-key
RESEND_FROM_EMAIL=noreply@portfoliosis.com

# SendGrid (Alternative email provider)
# Get from: https://app.sendgrid.com/settings/api_keys
SENDGRID_API_KEY=SG.your-api-key
SENDGRID_FROM_EMAIL=noreply@portfoliosis.com

# ==============================================================================
# SECURITY & RATE LIMITING
# ==============================================================================

# JWT Secret (for API authentication)
# Generate with: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-min-32-chars

# Rate limit for API routes (requests per minute)
API_RATE_LIMIT=60

# Upload limits
MAX_FILE_SIZE_MB=10
ALLOWED_FILE_TYPES=.pdf,.docx,.doc,.json

# ==============================================================================
# FEATURE FLAGS (Optional)
# ==============================================================================

# Enable/disable features for testing
FEATURE_LINKEDIN_IMPORT=false
FEATURE_GITHUB_IMPORT=true
FEATURE_AI_DESIGN_ASSISTANT=false
FEATURE_DEPLOYMENT=false
FEATURE_ANALYTICS=true

# AI Model Selection (for A/B testing)
# Options: gpt4 | claude | gemini | ensemble
AI_MODEL_PREFERENCE=ensemble

# Enable AI model fallbacks (if primary fails, try secondary)
AI_ENABLE_FALLBACKS=true

# ==============================================================================
# DEVELOPMENT TOOLS
# ==============================================================================

# Enable debug logging
DEBUG=false

# Verbose AI logging (shows prompts and responses)
AI_DEBUG=false

# Skip AI calls in development (returns mock data)
MOCK_AI_RESPONSES=false

# Disable caching in development (always fresh AI calls)
DISABLE_CACHE=false

# ==============================================================================
# TESTING
# ==============================================================================

# Test database URL (separate from production)
TEST_SUPABASE_URL=https://test-project.supabase.co
TEST_SUPABASE_ANON_KEY=test-key

# Playwright (E2E testing)
PLAYWRIGHT_BASE_URL=http://localhost:3000

# ==============================================================================
# PRICING & BILLING (Future)
# ==============================================================================

# Stripe (Payment processing)
# Get from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_...
STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# Pricing tier limits
FREE_TIER_MAX_PORTFOLIOS=1
PRO_TIER_MAX_PORTFOLIOS=10
ENTERPRISE_TIER_MAX_PORTFOLIOS=100

# ==============================================================================
# NOTES
# ==============================================================================

# 1. Required for MVP:
#    - SUPABASE_URL, SUPABASE_ANON_KEY, SUPABASE_SERVICE_ROLE_KEY
#    - OPENAI_API_KEY, ANTHROPIC_API_KEY, GOOGLE_AI_API_KEY
#    - JWT_SECRET

# 2. Recommended for development:
#    - REDIS_URL, REDIS_TOKEN (reduces AI costs)
#    - GITHUB_CLIENT_ID, GITHUB_CLIENT_SECRET (for GitHub import)
#    - SENTRY_DSN (for error tracking)

# 3. Optional (Phase 5+):
#    - LinkedIn OAuth
#    - Vercel/Netlify tokens
#    - PostHog
#    - Email providers

# 4. Security reminders:
#    - NEVER commit .env.local to Git
#    - Use different keys for dev/staging/prod
#    - Rotate API keys every 90 days
#    - Enable 2FA on all service accounts
#    - Use Vercel's encrypted environment variables for production

# 5. Cost optimization:
#    - Enable REDIS_URL to cache AI results (saves ~80% on API costs)
#    - Set FEATURE_* flags to disable expensive features in dev
#    - Use MOCK_AI_RESPONSES=true for rapid development without API calls

# ==============================================================================
# END OF CONFIGURATION
# ==============================================================================
